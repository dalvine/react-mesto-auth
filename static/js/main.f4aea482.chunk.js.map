{"version":3,"sources":["utils/api.js","images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Loader.js","components/Footer.js","components/Main.js","images/status-reg-true.svg","images/status-reg-false.svg","components/PopupWithStatusRegistration.js","utils/auth.js","components/Registration.js","components/LogIn.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/CofirmRemovePlacePopup.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","options","this","_url","baseUrl","_headers","headers","fetch","then","_checkResponse","data","JSON","stringify","name","about","link","id","isLiked","res","ok","json","Promise","reject","authorization","Header","props","history","useHistory","React","useState","openPanel","setOpenPanel","className","loggedIn","exact","path","userEmail","onClick","localStorage","removeItem","setLoggedIn","push","to","href","target","src","logo","alt","CurrentUserContext","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","length","Loader","isLoading","Footer","date","Date","getFullYear","Main","onEditAvatar","onEditProfile","onAddPlace","handleCardClick","cards","avatar","type","map","PopupWithStatusRegistration","onClose","isOpen","statusReg","ImageStatusTrue","ImageStatusFalse","_baseUrl","password","email","method","body","JWT","Registration","userData","setUserData","setStatusReg","openModalResultRegister","setOpenModalResultRegister","handleChange","e","value","onSubmit","preventDefault","auth","register","catch","err","finally","reset","placeholder","onChange","required","LogIn","setItem","token","alert","ImagePopup","PopupWithForm","title","children","buttonText","isLoadingForm","buttonLoadingText","formRef","ref","EditProfilePopup","onUpdateUser","setName","description","setDescription","useEffect","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","inputUrlAvatarRef","useRef","current","AddPlacePopup","onAddCard","setLink","CofirmRemovePlacePopup","handleConfirmCardDelete","ProtectedRoute","Component","component","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedDeleteCard","setSelectedDeleteCard","selectedCard","setSelectedCard","setСurrentUser","setCards","setIsLoading","setIsLoadingForm","setloggedIn","setUserEmail","formAddPlaceRef","formEditAvatarRef","formEditProfileRef","closeAllPopups","formReset","getUserInfo","console","log","getInitialCards","getItem","getToken","Provider","changeLike","newCard","state","c","editUserInfo","deleteCard","filter","changeAvatar","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"uOAkGeA,EARH,I,WAzFV,WAAYC,GAAU,oBACpBC,KAAKC,KAAOF,EAAQG,QACpBF,KAAKG,SAAWJ,EAAQK,Q,mDAI1B,WACE,OAAOC,MAAM,GAAD,OAAIL,KAAKC,KAAT,UAAuB,CACjC,OAAU,MACV,QAAWD,KAAKG,WAEfG,KAAKN,KAAKO,kB,yBAGf,WACE,OAAOF,MAAM,GAAD,OAAIL,KAAKC,KAAT,aAA0B,CACpC,OAAU,MACV,QAAWD,KAAKG,WAEfG,KAAKN,KAAKO,kB,0BAGf,SAAaC,GACX,OAAOH,MAAM,GAAD,OAAIL,KAAKC,KAAT,aAA0B,CACpC,OAAU,QACV,QAAWD,KAAKG,SAChB,KAAQM,KAAKC,UAAU,CACrB,KAAQF,EAAKG,KACb,MAASH,EAAKI,UAGfN,KAAKN,KAAKO,kB,qBAGf,SAAQC,GACN,OAAOH,MAAM,GAAD,OAAIL,KAAKC,KAAT,UAAuB,CACjC,OAAU,OACV,QAAWD,KAAKG,SAChB,KAAQM,KAAKC,UAAU,CACrB,KAAQF,EAAKG,KACb,KAAQH,EAAKK,SAGdP,KAAKN,KAAKO,kB,0BAGf,SAAaM,GACX,OAAOR,MAAM,GAAD,OAAIL,KAAKC,KAAT,oBAAiC,CAC3C,OAAU,QACV,QAAWD,KAAKG,SAChB,KAAQM,KAAKC,UAAU,CACrB,OAAUG,MAGXP,KAAKN,KAAKO,kB,wBAGf,SAAWO,GACT,OAAOT,MAAM,GAAD,OAAIL,KAAKC,KAAT,kBAAuBa,GAAM,CACvC,OAAU,SACV,QAAWd,KAAKG,WAEfG,KAAKN,KAAKO,kB,wBAGf,SAAWO,EAAIC,GACb,OAAIA,EACKV,MAAM,GAAD,OAAIL,KAAKC,KAAT,wBAA6Ba,GAAM,CAC7C,OAAU,MACV,QAAWd,KAAKG,WAEfG,KAAKN,KAAKO,gBAENF,MAAM,GAAD,OAAIL,KAAKC,KAAT,wBAA6Ba,GAAM,CAC7C,OAAU,SACV,QAAWd,KAAKG,WAEfG,KAAKN,KAAKO,kB,4BAIjB,SAAeS,GACb,OAAIA,EAAIC,GAAWD,EAAIE,OAChBC,QAAQC,OAAOJ,EAAIE,Y,KAMlB,CAAQ,CAClBhB,QAAS,8CACTE,QAAS,CACPiB,cAAe,uCACf,eAAgB,sBC9FL,MAA0B,iC,OC0C1BC,MAtCf,SAAgBC,GACZ,IAAMC,EAAUC,cAChB,EAAkCC,IAAMC,UAAS,GAAjD,mBAAOC,EAAP,KAAkBC,EAAlB,KAYA,OACI,yBAAQC,UAAS,iBAAYP,EAAMQ,SAAW,GAAK,kBAAnD,UACI,qBAAKD,UAAS,qBAAgBF,EAAY,oBAAsB,GAAlD,YAAwDL,EAAMQ,SAAW,GAAK,mBAA5F,SACI,eAAC,IAAD,WACI,eAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAlB,UACI,mBAAGH,UAAU,oBAAb,SAAkCP,EAAMW,YACxC,mBAAGC,QAZR,WACXC,aAAaC,WAAW,SACxBd,EAAMe,aAAY,GAClBd,EAAQe,KAAK,MASuBT,UAAU,qBAA9B,+CAEJ,cAAC,IAAD,CAAOG,KAAK,WAAZ,SACI,cAAC,IAAD,CAAMO,GAAG,WAAWV,UAAU,wBAA9B,kFAEJ,cAAC,IAAD,CAAOG,KAAK,WAAZ,SACI,cAAC,IAAD,CAAMO,GAAG,WAAWV,UAAU,wBAA9B,uFAIZ,mBAAGW,KAAK,6CAA6CX,UAAU,eAAeY,OAAO,QAArF,SACI,qBAAKZ,UAAU,gBAAgBa,IAAKC,EAAMC,IAAI,iDAElD,wBAAQf,UAAS,2BAAsBF,EAAY,0BAA4B,GAA9D,YAAoEL,EAAMQ,SAAW,GAAK,2BAA6BI,QA7BxH,WACpBN,GAAcD,UCLPkB,EAFYpB,IAAMqB,gBCsClBC,MApCf,YAAgE,IAAhDC,EAA+C,EAA/CA,KAAMC,EAAyC,EAAzCA,YAAaC,EAA4B,EAA5BA,WAAYC,EAAgB,EAAhBA,aAErCC,EAAc3B,IAAM4B,WAAWR,GAC/BS,EAAQN,EAAKO,MAAMC,MAAQJ,EAAYI,IACvC1C,EAAUkC,EAAKS,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEH,MAAQJ,EAAYI,OACrDI,EAAyB,wBACVN,EAAQ,wBAA0B,wBAEjDO,EAAuB,sBAAkB/C,GAAW,sBAe1D,OACI,qBAAIe,UAAU,QAAd,UACI,qBAAKA,UAAU,eAAea,IAAKM,EAAKpC,KAAMgC,IAAKI,EAAKtC,KAAMwB,QAftE,WACIe,EAAYD,MAeR,oBAAInB,UAAU,eAAd,SAA8BmB,EAAKtC,OACnC,sBAAKmB,UAAU,wBAAf,UACI,wBAAQA,UAAWgC,EAAyB3B,QAdxD,WACIgB,EAAWF,MAcH,mBAAGnB,UAAU,oBAAb,SAAkCmB,EAAKS,MAAMK,YAEjD,wBAAQjC,UAAW+B,EAA2B1B,QAbtD,WACIiB,EAAaH,UCdNe,MAPf,YAA8B,IAAbC,EAAY,EAAZA,UACb,OACI,qBAAKnC,UAAS,uBAAkBmC,EAAY,uBAAyB,SCS9DC,MAXf,WAEI,IAAMC,EAAO,IAAIC,KAEjB,OACI,wBAAQtC,UAAU,SAAlB,SACI,oBAAGA,UAAU,eAAb,kBAAoCqC,EAAKE,cAAzC,sBCwCGC,MAzCf,YACoE,IADpDC,EACmD,EADnDA,aAAcC,EACqC,EADrCA,cAAeC,EACsB,EADtBA,WACzCC,EAA+D,EAA/DA,gBAAiBC,EAA8C,EAA9CA,MAAOxB,EAAuC,EAAvCA,WAAYC,EAA2B,EAA3BA,aAAca,EAAa,EAAbA,UAE5CZ,EAAc3B,IAAM4B,WAAWR,GAErC,OACI,qCACI,cAAC,EAAD,CAAQmB,UAAWA,IACnB,uBAAMnC,UAAS,eAAUmC,EAAY,cAAgB,MAArD,UACI,0BAASnC,UAAU,UAAnB,UACI,sBAAKA,UAAU,SAAf,UACI,sBAAKA,UAAU,iBAAf,UACI,qBAAKa,IAAKU,EAAYuB,OAAQ/B,IAAI,wFAAkBf,UAAU,yBAC9D,qBAAKA,UAAU,uBAAuBK,QAASoC,OAEnD,oBAAIzC,UAAU,mBAAd,SAAkCuB,EAAY1C,OAC9C,mBAAGmB,UAAU,cAAb,SAA4BuB,EAAYzC,QACxC,wBAAQiE,KAAK,SAAS/C,UAAU,sBAAsBK,QAASqC,OAEnE,wBAAQK,KAAK,SAAS/C,UAAU,sBAAsBK,QAASsC,OAEnE,yBAAS3C,UAAU,SAAnB,SACI,oBAAIA,UAAU,eAAd,SAEQ6C,EAAMG,KAAI,SAAC7B,GAAD,OACN,cAAC,EAAD,CAEIA,KAAMA,EACNC,YAAawB,EACbvB,WAAYA,EACZC,aAAcA,GAJTH,EAAKQ,eAUlC,cAAC,EAAD,Q,eC3CG,MAA0B,4CCA1B,MAA0B,6CCwB1BsB,MAnBf,YAAsE,IAA/BC,EAA8B,EAA9BA,QAASC,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,UACpD,OACI,yBACIpD,UAAS,qCAAgCmD,EAAS,eAAiB,MADvE,SAGI,sBAAKnD,UAAU,mBAAf,UACI,sBAAKA,UAAU,aAAf,UACI,qBAAKA,UAAU,kBAAkBa,IAAKuC,EAAYC,EAAkBC,EAAkBvC,IAAKqC,EAAY,sHAAyB,mGAChI,mBAAGpD,UAAU,mBAAb,SAAiCoD,EAAY,wKAAmC,2MAEpF,wBACIL,KAAK,SACL/C,UAAS,2CACTK,QAAS6C,UCiCd,M,WAlDX,aAAe,oBACXhF,KAAKqF,SAAW,yC,4CAGpB,YAA+B,IAApBC,EAAmB,EAAnBA,SAAUC,EAAS,EAATA,MACjB,OAAOlF,MAAM,GAAD,OAAIL,KAAKqF,SAAT,WAA4B,CACpCG,OAAQ,OACRpF,QAAS,CACL,eAAgB,oBAEpBqF,KAAMhF,KAAKC,UAAU,CACjB,SAAY4E,EACZ,MAASC,MAGZjF,KAAKN,KAAKO,kB,2BAGnB,YAAoC,IAApB+E,EAAmB,EAAnBA,SAAUC,EAAS,EAATA,MACtB,OAAOlF,MAAM,GAAD,OAAIL,KAAKqF,SAAT,WAA4B,CACpCG,OAAQ,OACRpF,QAAS,CACL,eAAgB,oBAEpBqF,KAAMhF,KAAKC,UAAU,CACjB,SAAY4E,EACZ,MAASC,MAGZjF,KAAKN,KAAKO,kB,sBAGnB,SAASmF,GACL,OAAOrF,MAAM,GAAD,OAAIL,KAAKqF,SAAT,aAA8B,CACtCG,OAAQ,MACRpF,QAAS,CACL,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BsF,MAG9BpF,KAAKN,KAAKO,kB,4BAInB,SAAeS,GACX,OAAIA,EAAIC,GAAWD,EAAIE,OAChBC,QAAQC,OAAOJ,EAAIE,Y,MCMnByE,MAhDf,WAEI,IAAMnE,EAAUC,cAEhB,EAAgCC,IAAMC,SAAS,IAA/C,mBAAOiE,EAAP,KAAiBC,EAAjB,KACA,EAAkCnE,IAAMC,UAAS,GAAjD,mBAAOuD,EAAP,KAAkBY,EAAlB,KACA,EAA8DpE,IAAMC,UAAS,GAA7E,mBAAOoE,EAAP,KAAgCC,EAAhC,KAEMC,EAAe,SAAAC,GACjB,MAAwBA,EAAExD,OAAlB/B,EAAR,EAAQA,KAAMwF,EAAd,EAAcA,MACdN,EAAY,2BAAKD,GAAN,kBAAiBjF,EAAOwF,MAwBvC,OACI,qCACI,uBAAMrE,UAAU,uBAAuBsE,SAvB1B,SAAAF,GACjBA,EAAEG,iBACFC,EAAKC,SAASX,GACTtF,MAAK,SAAAE,GACFsF,GAAa,MAEhBU,OAAM,SAAAC,GACHX,GAAa,MAEhBY,SAAQ,WACLV,GAA2B,GAC3BE,EAAExD,OAAOiE,YAYb,UACI,oBAAI7E,UAAU,eAAd,gFACA,uBAAO+C,KAAK,QAAQ/C,UAAU,qCAAqC8E,YAAY,QAAQjG,KAAK,QAAQwF,MAAOP,EAASL,MAAOsB,SAAUZ,EAAca,UAAQ,IAC3J,uBAAOjC,KAAK,WAAW/C,UAAU,qCAAqC8E,YAAY,uCAASjG,KAAK,WAAWwF,MAAOP,EAASN,SAAUuB,SAAUZ,EAAca,UAAQ,IACrK,wBAAQjC,KAAK,SAAS/C,UAAU,uCAAhC,0HACA,oBAAGA,UAAU,aAAb,kIAAgD,cAAC,IAAD,CAAMU,GAAG,WAAWV,UAAU,aAA9B,kDAEpD,cAAC,EAAD,CAA6BoD,UAAWA,EAAWD,OAAQc,EAAyBf,QAfzD,WAC/BgB,GAA2B,GACvBd,GAAW1D,EAAQe,KAAK,oBCQrBwE,MAvCf,SAAexF,GACX,MAAgCG,IAAMC,SAAS,IAA/C,mBAAOiE,EAAP,KAAiBC,EAAjB,KAEMI,EAAe,SAAAC,GACjB,MAAwBA,EAAExD,OAAlB/B,EAAR,EAAQA,KAAMwF,EAAd,EAAcA,MACdN,EAAY,2BAAKD,GAAN,kBAAiBjF,EAAOwF,MAsBvC,OACI,mCACI,uBAAMrE,UAAU,uBAAuBsE,SArB1B,SAAAF,GACjBA,EAAEG,iBACFC,EAAKjF,cAAcuE,GACdtF,MAAK,SAAAE,GACF4B,aAAa4E,QAAQ,QAASxG,EAAKyG,OACnC1F,EAAMe,aAAY,MAErBkE,OAAM,WACHU,MAAM,4IACNrB,EAAY,OAEfa,SAAQ,WACLR,EAAExD,OAAOiE,YASb,UACI,oBAAI7E,UAAU,eAAd,sCACA,uBAAO+C,KAAK,QAAQ/C,UAAU,qCAAqC8E,YAAY,QAAQjG,KAAK,QAASwF,MAAOP,EAASL,MAAOsB,SAAUZ,EAAca,UAAQ,IAC5J,uBAAOjC,KAAK,WAAW/C,UAAU,qCAAqC8E,YAAY,uCAASjG,KAAK,WAAWwF,MAAOP,EAASN,SAAUuB,SAAUZ,EAAca,UAAQ,IACrK,wBAAQjC,KAAK,SAAS/C,UAAU,uCAAhC,kDCdDqF,MArBf,YAAwC,IAAlBlE,EAAiB,EAAjBA,KAAM+B,EAAW,EAAXA,QACxB,OACI,yBACIlD,UAAS,oCAA+BmB,EAAKtC,KAAO,eAAiB,MADzE,SAGI,sBAAKmB,UAAU,yBAAf,UACI,qBACIa,IAAKM,EAAKpC,KAAOoC,EAAKpC,KAAO,IAC7BgC,IAAKI,EAAKtC,KAAOsC,EAAKtC,KAAO,GAC7BmB,UAAU,iBAEd,mBAAGA,UAAU,iBAAb,SAA+BmB,EAAKtC,OACpC,wBACIkE,KAAK,SACL/C,UAAU,0CACVK,QAAS6C,UCOdoC,MAtBf,YAAsI,IAA7GC,EAA4G,EAA5GA,MAAO1G,EAAqG,EAArGA,KAAMsE,EAA+F,EAA/FA,OAAQD,EAAuF,EAAvFA,QAASsC,EAA8E,EAA9EA,SAAUC,EAAoE,EAApEA,WAAYnB,EAAwD,EAAxDA,SAAUoB,EAA8C,EAA9CA,cAAeC,EAA+B,EAA/BA,kBAAmBC,EAAY,EAAZA,QAGrH,OACI,yBACA5F,UAAS,8BAAyBnB,EAAzB,YAAiCsE,EAAS,eAAiB,MADpE,SAGI,sBAAKnD,UAAU,mBAAf,UACI,uBAAM6F,IAAKD,EAAS5F,UAAU,OAAOnB,KAAMA,EAAMyF,SAAUA,EAA3D,UACI,oBAAItE,UAAU,eAAd,SAA8BuF,IAC7BC,EACD,wBAAQxF,UAAU,eAAe+C,KAAK,SAAtC,SAAgD2C,EAAgBC,EAAoBF,OAExF,wBACI1C,KAAK,SACL/C,UAAS,4CAAuCnB,GAChDwB,QAAS6C,UCqCd4C,MAnDf,YAAoF,IAAzD3C,EAAwD,EAAxDA,OAAQD,EAAgD,EAAhDA,QAAS6C,EAAuC,EAAvCA,aAAcL,EAAyB,EAAzBA,cAAeE,EAAU,EAAVA,QACrE,EAAwBhG,IAAMC,SAAS,IAAvC,mBAAOhB,EAAP,KAAamH,EAAb,KACA,EAAsCpG,IAAMC,SAAS,IAArD,mBAAOoG,EAAP,KAAoBC,EAApB,KACM3E,EAAc3B,IAAM4B,WAAWR,GAwBrC,OALApB,IAAMuG,WAAU,WACZH,EAAQzE,EAAY1C,MAAS,IAC7BqH,EAAe3E,EAAYzC,OAAS,MACnC,CAACyC,EAAa4B,IAGf,cAAC,EAAD,CACAtE,KAAK,cACL0G,MAAM,4HACNpC,OAAQA,EACRD,QAASA,EACTuC,WAAa,yDACbE,kBAAkB,kEAClBrB,SAtBJ,SAAsBF,GAClBA,EAAEG,iBAEFwB,EAAa,CACXlH,OACAC,MAAOmH,KAkBTP,cAAeA,EACfE,QAAWA,EATX,SAWA,qCACE,uBAAO5F,UAAU,2CAA2ChB,GAAG,aAAa+D,KAAK,OAAOlE,KAAK,kBAC3FiG,YAAY,qBAAMsB,UAAU,IAAIC,UAAU,KAAKhC,MAAOxF,EAAMkG,SApCpE,SAAyBX,GACrB4B,EAAQ5B,EAAExD,OAAOyD,QAmC0EW,UAAQ,IACjG,sBAAMhF,UAAU,uCAChB,uBAAOA,UAAU,sCAAsChB,GAAG,YAAY+D,KAAK,OAAOlE,KAAK,aACrFiG,YAAY,8FAAmBsB,UAAU,IAAIC,UAAU,MAAMhC,MAAO4B,EAAalB,SAnCzF,SAAgCX,GAC5B8B,EAAe9B,EAAExD,OAAOyD,QAkC+FW,UAAQ,IAC7H,sBAAMhF,UAAU,4CCXXsG,MAnCf,YAAuF,IAA5DnD,EAA2D,EAA3DA,OAAQD,EAAmD,EAAnDA,QAASqD,EAA0C,EAA1CA,eAAgBb,EAA0B,EAA1BA,cAAgBE,EAAU,EAAVA,QAClEY,EAAoB5G,IAAM6G,SAahC,OACI,cAAC,EAAD,CACI5H,KAAK,gBACL0G,MAAM,wFACNpC,OAAQA,EACRD,QAVR,WACIsD,EAAkBE,QAAQrC,MAAQ,GAClCnB,KASIuC,WAAW,yDACXE,kBAAkB,kEAClBrB,SAnBR,SAAsBF,GAClBA,EAAEG,iBACFgC,EAAeC,EAAkBE,QAAQrC,QAkBrCqB,cAAeA,EACfE,QAAWA,EATf,SAWI,qCACI,uBAAOC,IAAKW,EAAmBxG,UAAU,8CAA8ChB,GAAG,mBAAmB+D,KAAK,MAAMlE,KAAK,YACzHiG,YAAY,yFAAmBE,UAAQ,IAC3C,sBAAMhF,UAAU,mDCkBjB2G,MA/Cf,YAA+E,IAAtDxD,EAAqD,EAArDA,OAAQD,EAA6C,EAA7CA,QAAS0D,EAAoC,EAApCA,UAAWlB,EAAyB,EAAzBA,cAAeE,EAAU,EAAVA,QAChE,EAAwBhG,IAAMC,SAAS,IAAvC,mBAAOd,EAAP,KAAa8H,EAAb,KACA,EAAwBjH,IAAMC,SAAS,IAAvC,mBAAOhB,EAAP,KAAamH,EAAb,KAqBA,OACI,cAAC,EAAD,CACInH,KAAK,YACL0G,MAAM,gEACNpC,OAAQA,EACRD,QAXR,WACI8C,EAAQ,IACRa,EAAQ,IACR3D,KASIuC,WAAW,6CACXE,kBAAkB,kEAClBrB,SA3BR,SAAsBF,GAClBA,EAAEG,iBACFqC,EAAU,CAAC7H,OAAMF,UA0Bb6G,cAAeA,EACfE,QAAWA,EATf,SAWI,qCACA,uBAAOb,SA3Bf,SAAyBX,GACrB4B,EAAQ5B,EAAExD,OAAOyD,QA0BqBA,MAAOxF,EAAMmB,UAAU,6CAA6ChB,GAAG,mBAAmB+D,KAAK,OAAOlE,KAAK,YAC3IiG,YAAY,mDAAWsB,UAAU,IAAKC,UAAU,KAAKrB,UAAQ,IAC/D,sBAAMhF,UAAU,6CAChB,uBAAO+E,SA1Bf,SAAyBX,GACrByC,EAAQzC,EAAExD,OAAOyD,QAyBqBA,MAAOtF,EAAMiB,UAAU,6CAA6ChB,GAAG,kBAAkB+D,KAAK,MAAMlE,KAAK,WACzIiG,YAAY,qGAAqBE,UAAQ,IAC3C,sBAAMhF,UAAU,kDCpBb8G,MArBf,YAA4F,IAA1D5D,EAAyD,EAAzDA,QAAS6D,EAAgD,EAAhDA,wBAAyB5F,EAAuB,EAAvBA,KAAMuE,EAAiB,EAAjBA,cAOtE,OACI,cAAC,EAAD,CACI7G,KAAK,iBACL0G,MAAM,2DACNpC,OAAQhC,EACR+B,QAASA,EACTuC,WAAW,eACXE,kBAAkB,sDAClBrB,SAbR,SAAuBF,GACnBA,EAAEG,iBACFwC,EAAwB5F,IAYpBuE,cAAeA,K,QCLZsB,MAXf,YAA6D,IAAxBC,EAAuB,EAAlCC,UAAyBzH,EAAS,6BACxD,OACI,cAAC,IAAD,UAEQ,kBACIA,EAAMQ,SAAW,cAACgH,EAAD,eAAexH,IAAY,cAAC,IAAD,CAAUiB,GAAG,kBCwL9DyG,MA/Kf,WACE,MAA4DvH,IAAMC,UAAS,GAA3E,mBAAOuH,EAAP,KAA+BC,EAA/B,KACA,EAAsDzH,IAAMC,UAAS,GAArE,mBAAOyH,EAAP,KAA4BC,EAA5B,KACA,EAA0D3H,IAAMC,UAAS,GAAzE,mBAAO2H,EAAP,KAA8BC,EAA9B,KACA,EAAoD7H,IAAMC,SAAS,IAAnE,mBAAO6H,EAAP,KAA2BC,EAA3B,KACA,EAAwC/H,IAAMC,SAAS,IAAvD,mBAAO+H,EAAP,KAAqBC,EAArB,KACA,EAAsCjI,IAAMC,SAAS,IAArD,mBAAO0B,EAAP,KAAoBuG,EAApB,KACA,EAA0BlI,IAAMC,SAAS,IAAzC,mBAAOgD,EAAP,KAAckF,EAAd,KACA,EAAkCnI,IAAMC,UAAS,GAAjD,mBAAOsC,EAAP,KAAkB6F,EAAlB,KACA,EAA0CpI,IAAMC,UAAS,GAAzD,mBAAO6F,EAAP,KAAsBuC,EAAtB,KACA,GAAgCrI,IAAMC,UAAS,GAA/C,qBAAOI,GAAP,MAAiBiI,GAAjB,MACA,GAAkCtI,IAAMC,SAAS,IAAjD,qBAAOO,GAAP,MAAkB+H,GAAlB,MACMC,GAAkBxI,IAAM6G,SACxB4B,GAAoBzI,IAAM6G,SAC1B6B,GAAqB1I,IAAM6G,SAgBjC,SAAS8B,KACPlB,GAA0B,GAC1BE,GAAuB,GACvBE,GAAyB,GACzBI,EAAgB,IAChBF,EAAsB,IACtBM,GAAiB,GAGnB,SAASO,GAAU5C,GACjBA,EAAQc,QAAQ7B,QA4FlB,OApBAjF,IAAMuG,WAAU,WACdnI,EAAIyK,cACDjK,MAAK,SAAA6F,GACJyD,EAAezD,MAEhBK,OAAM,SAAAC,GAAG,OAAI+D,QAAQC,IAAIhE,MAC5B3G,EAAI4K,kBACDpK,MAAK,SAAA6F,GACJ0D,EAAS1D,MAEVK,OAAM,SAAAC,GAAG,OAAI+D,QAAQC,IAAIhE,MACzBC,SAAQ,WACPoD,GAAa,QAEhB,IAEHpI,IAAMuG,WAAU,WA/BV7F,aAAauI,QAAQ,SACvBrE,EAAKsE,SAASxI,aAAauI,QAAQ,UAChCrK,MAAK,SAAAE,GACJyJ,GAAazJ,EAAKA,KAAK+E,OACvByE,IAAY,MAEbxD,OAAM,WACLpE,aAAaC,WAAW,SACxB2H,IAAY,MAGhBA,IAAY,KAsBb,CAACjI,KAGF,mCACE,eAAC,EAAmB8I,SAApB,CAA6B1E,MAAO9C,EAApC,UACE,cAAC,EAAD,CAAQtB,SAAUA,GAAUO,YAAa0H,GAAa9H,UAAWA,KAEjE,eAAC,IAAD,WACE,cAAC,EAAD,CACEH,SAAUA,GACVE,KAAK,IACL+G,UAAW1E,EACXE,cA7HV,WACE2E,GAA0B,IA6HlB1E,WA3HV,WACE4E,GAAuB,IA2Hf9E,aAzHV,WACEgF,GAAyB,IAyHjBc,eAAgBA,GAChB3F,gBAAiBiF,EACjBhF,MAAOA,EACPxB,WAnFV,SAAwBF,GACtB,IAAMlC,EAAUkC,EAAKS,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEH,MAAQJ,EAAYI,OAE3D3D,EAAIgL,WAAW7H,EAAKQ,KAAM1C,GACvBT,MAAK,SAACyK,GACLlB,GAAS,SAACmB,GAAD,OAAWA,EAAMlG,KAAI,SAACmG,GAAD,OAAOA,EAAExH,MAAQR,EAAKQ,IAAMsH,EAAUE,WAErEzE,OAAM,SAAAC,GAAG,OAAI+D,QAAQC,IAAIhE,OA6EpBrD,aA3HV,SAA+BH,GAC7BwG,EAAsBxG,IA2HdgB,UAAWA,EACXjC,OAAK,IAEP,cAAC,IAAD,CAAOC,KAAK,WAAZ,SACGF,GAAW,cAAC,IAAD,CAAUS,GAAG,MAAS,cAAC,EAAD,CAAOF,YAAa0H,OAExD,cAAC,IAAD,CAAO/H,KAAK,WAAZ,SACGF,GAAW,cAAC,IAAD,CAAUS,GAAG,MAAS,cAAC,EAAD,SAGtC,cAAC,EAAD,CAAkByC,OAAQiE,EAAwBlE,QAASqF,GAAgBxC,aArHjF,SAA0BrH,GACxBuJ,GAAiB,GACjBjK,EAAIoL,aAAa1K,GACdF,MAAK,SAAAsF,GACJgE,EAAehE,GACfyE,KACAC,GAAUF,OAEX5D,OAAM,SAAAC,GAAG,OAAI+D,QAAQC,IAAIhE,OA6GmFe,cAAeA,EAAeE,QAAS0C,KAEjJZ,EAAmB7I,MAAQ,cAAC,EAAD,CAAwBqE,QAASqF,GAAgBxB,wBAvFnF,SAAiC5F,GAC/B8G,GAAiB,GACjBjK,EAAIqL,WAAWlI,EAAKQ,KACjBnD,MAAK,WACJuJ,EAASlF,EAAMyG,QAAO,SAAAH,GAAC,QAAMA,EAAExH,MAAQR,EAAKQ,SAC5C4G,QAED7D,OAAM,SAAAC,GAAG,OAAI+D,QAAQC,IAAIhE,OAgFuGxD,KAAMuG,EAAoBhC,cAAeA,IAExK,cAAC,EAAD,CAAiBvC,OAAQqE,EAAuBtE,QAASqF,GAAgBhC,eA9G/E,SAA4BxH,GAC1BkJ,GAAiB,GACjBjK,EAAIuL,aAAaxK,GACdP,MAAK,WACJ+C,EAAYuB,OAAS/D,EACrBwJ,KACAC,GAAUH,OAEX3D,OAAM,SAAAC,GAAG,OAAI+D,QAAQC,IAAIhE,OAsGqFe,cAAeA,EAAeE,QAASyC,KAEpJ,cAAC,EAAD,CAAelF,OAAQmE,EAAqBpE,QAASqF,GAAgB3B,UAjF3E,SAAwBzF,GACtB8G,GAAiB,GACjBjK,EAAIwL,QAAQrI,GACT3C,MAAK,SAAAyK,GACJlB,EAAS,CAACkB,GAAF,mBAAcpG,KACtB0F,KACAC,GAAUJ,OAEX1D,OAAM,SAAAC,GAAG,OAAI+D,QAAQC,IAAIhE,OAyEwEe,cAAeA,EAAeE,QAASwC,KAEvI,cAAC,EAAD,CAAYjH,KAAMyG,EAAc1E,QAASqF,WC7KlCkB,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBnL,MAAK,YAAkD,IAA/CoL,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACL,cAAC,IAAD,UACA,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BX,M","file":"static/js/main.f4aea482.chunk.js","sourcesContent":["class Api {\r\n  constructor(options) {\r\n    this._url = options.baseUrl\r\n    this._headers = options.headers\r\n  }\r\n\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}/cards`, {\r\n      \"method\": \"GET\",\r\n      \"headers\": this._headers\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._url}/users/me`, {\r\n      \"method\": \"GET\",\r\n      \"headers\": this._headers\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  editUserInfo(data) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      \"method\": \"PATCH\",\r\n      \"headers\": this._headers,\r\n      \"body\": JSON.stringify({\r\n        \"name\": data.name,\r\n        \"about\": data.about,\r\n      })\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  addCard(data) {\r\n    return fetch(`${this._url}/cards`, {\r\n      \"method\": \"POST\",\r\n      \"headers\": this._headers,\r\n      \"body\": JSON.stringify({\r\n        \"name\": data.name,\r\n        \"link\": data.link,\r\n      })\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  changeAvatar(link) {\r\n    return fetch(`${this._url}/users/me/avatar`, {\r\n      \"method\": \"PATCH\",\r\n      \"headers\": this._headers,\r\n      \"body\": JSON.stringify({\r\n        \"avatar\": link,\r\n      })\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._url}/cards/${id}`, {\r\n      \"method\": \"DELETE\",\r\n      \"headers\": this._headers,\r\n    })\r\n      .then(this._checkResponse)\r\n  }\r\n\r\n  changeLike(id, isLiked) {\r\n    if (isLiked) {\r\n      return fetch(`${this._url}/cards/likes/${id}`, {\r\n        \"method\": \"PUT\",\r\n        \"headers\": this._headers,\r\n      })\r\n        .then(this._checkResponse)\r\n    } else {\r\n      return fetch(`${this._url}/cards/likes/${id}`, {\r\n        \"method\": \"DELETE\",\r\n        \"headers\": this._headers,\r\n      })\r\n        .then(this._checkResponse)\r\n    }\r\n  }\r\n\r\n  _checkResponse(res) {\r\n    if (res.ok) return res.json()\r\n    return Promise.reject(res.json())\r\n  }\r\n\r\n\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-23',\r\n  headers: {\r\n    authorization: 'ee54480d-8407-451a-93a4-4101fced51f5',\r\n    'Content-Type': 'application/json'\r\n  }\r\n});\r\n\r\nexport default api\r\n","export default __webpack_public_path__ + \"static/media/logo.5f3664ca.svg\";","import React from 'react'\r\nimport { Switch, Route, Link, useHistory } from 'react-router-dom'\r\nimport logo from '../images/logo.svg'\r\n\r\nfunction Header(props) {\r\n    const history = useHistory()\r\n    const [openPanel, setOpenPanel] = React.useState(false)\r\n\r\n    const openedUserPanel = () => {\r\n        setOpenPanel(!openPanel)\r\n    }\r\n\r\n    const logOut = () => {\r\n        localStorage.removeItem('token')\r\n        props.setLoggedIn(false)\r\n        history.push('/')\r\n    }\r\n\r\n    return (\r\n        <header className={`header ${props.loggedIn ? \"\" : \"header_reverse\"}`}>\r\n            <div className={`user-panel ${openPanel ? \"user-panel_opened\" : \"\"} ${props.loggedIn ? \"\" : \"user-panel_show\"}`}>\r\n                <Switch>\r\n                    <Route exact path=\"/\">\r\n                        <p className=\"user-panel__email\">{props.userEmail}</p>\r\n                        <p onClick={logOut} className=\"user-panel__logout\">Выйти</p>\r\n                    </Route>\r\n                    <Route path=\"/sign-in\">\r\n                        <Link to=\"/sign-up\" className=\"user-panel__auth-link\">Регистрация</Link>\r\n                    </Route>\r\n                    <Route path=\"/sign-up\">\r\n                        <Link to=\"/sign-in\" className=\"user-panel__auth-link\">Авторизация</Link>\r\n                    </Route>\r\n                </Switch>\r\n            </div>\r\n            <a href=\"https://dalvine.github.io/mesto/index.html\" className=\"header__logo\" target=\"_self\">\r\n                <img className=\"header__image\" src={logo} alt=\"Логотип\" />\r\n            </a>\r\n            <button className={`btn-opened-panel ${openPanel ? \"btn-opened-panel_opened\" : \"\"} ${props.loggedIn ? \"\" : \"btn-opened-panel_hidden\"}`} onClick={openedUserPanel} />\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header","import React from 'react'\r\n\r\nconst CurrentUserContext = React.createContext();\r\n\r\nexport default CurrentUserContext","import React from 'react'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete }) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = card.owner._id === currentUser._id\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id)\r\n    const cardDeleteButtonClassName = (\r\n        `place__delete ${isOwn ? 'place__delete_visible' : 'place__delete_hidden'}`\r\n    )\r\n    const cardLikeButtonClassName = `place__like ${isLiked && 'place__like_active'}`\r\n\r\n    function handleClick() {\r\n        onCardClick(card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        onCardLike(card)\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        onCardDelete(card)\r\n    }\r\n\r\n\r\n    return (\r\n        <li className=\"place\">\r\n            <img className=\"place__photo\" src={card.link} alt={card.name} onClick={handleClick} />\r\n            <h2 className=\"place__title\">{card.name}</h2>\r\n            <div className=\"place__like-container\">\r\n                <button className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n                <p className=\"place__like-count\">{card.likes.length}</p>\r\n            </div>\r\n            <button className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Card","import React from 'react'\r\n\r\nfunction Loader({isLoading}) { \r\n    return (\r\n        <div className={`loading-page ${isLoading ? \"loading-page_visible\" : null}`}></div>\r\n    )\r\n}\r\n\r\n\r\nexport default Loader","import React from 'react'\r\n\r\nfunction Footer() {\r\n\r\n    const date = new Date()\r\n\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copy\">&copy; {date.getFullYear()} Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer","import React from 'react'\r\nimport Card from './Card'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport Loader from './Loader'\r\nimport Footer from './Footer'\r\n\r\n\r\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace,\r\n    handleCardClick, cards, onCardLike, onCardDelete, isLoading }) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <>\r\n            <Loader isLoading={isLoading} />\r\n            <main className={`main ${isLoading ? \"main_hidden\" : null}`}>\r\n                <section className=\"profile\">\r\n                    <div className=\"author\">\r\n                        <div className=\"author__avatar\">\r\n                            <img src={currentUser.avatar} alt=\"Аватарка автора\" className=\"author__avatar-image\" />\r\n                            <div className=\"author__avatar-layer\" onClick={onEditAvatar}></div>\r\n                        </div>\r\n                        <h1 className=\"author__fullname\">{currentUser.name}</h1>\r\n                        <p className=\"author__job\">{currentUser.about}</p>\r\n                        <button type=\"button\" className=\"author__button-edit\" onClick={onEditProfile}></button>\r\n                    </div>\r\n                    <button type=\"button\" className=\"profile__button-add\" onClick={onAddPlace}></button>\r\n                </section>\r\n                <section className=\"places\">\r\n                    <ul className=\"places__list\">\r\n                        {\r\n                            cards.map((card) => (\r\n                                <Card\r\n                                    key={card._id}\r\n                                    card={card}\r\n                                    onCardClick={handleCardClick}\r\n                                    onCardLike={onCardLike}\r\n                                    onCardDelete={onCardDelete} />\r\n                            ))\r\n                        }\r\n                    </ul>\r\n                </section>\r\n            </main>\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Main","export default __webpack_public_path__ + \"static/media/status-reg-true.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/status-reg-false.d4ce2a26.svg\";","import React from 'react'\r\nimport ImageStatusTrue from '../images/status-reg-true.svg'\r\nimport ImageStatusFalse from '../images/status-reg-false.svg'\r\n\r\n\r\nfunction PopupWithStatusRegistration({ onClose, isOpen, statusReg }) {\r\n    return (\r\n        <section\r\n            className={`popup popup_content_status ${isOpen ? \"popup_opened\" : null}`\r\n            }>\r\n            <div className=\"popup__container\">\r\n                <div className=\"status-reg\">\r\n                    <img className=\"status-reg__img\" src={statusReg ? ImageStatusTrue : ImageStatusFalse} alt={statusReg ? \"Успешная регистрация\" : \"Что-то пошло не так\"} />\r\n                    <p className=\"status-reg__text\">{statusReg ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте ещё раз.\"}</p>\r\n                </div>\r\n                <button\r\n                    type=\"button\"\r\n                    className={`popup__close popup__close_content_status`}\r\n                    onClick={onClose}></button>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default PopupWithStatusRegistration","class Auth {\r\n    constructor() {\r\n        this._baseUrl = 'https://api.mesto71.nomoredomains.club'\r\n    }\r\n\r\n    register({ password, email }) {\r\n        return fetch(`${this._baseUrl}/signup`, {\r\n            method: 'POST',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                \"password\": password,\r\n                \"email\": email\r\n            })\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    authorization({ password, email }) {\r\n        return fetch(`${this._baseUrl}/signin`, {\r\n            method: 'POST',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                \"password\": password,\r\n                \"email\": email\r\n            })\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n    getToken(JWT) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'GET',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\": `Bearer ${JWT}`\r\n            }\r\n        })\r\n            .then(this._checkResponse)\r\n    }\r\n\r\n\r\n    _checkResponse(res) {\r\n        if (res.ok) return res.json()\r\n        return Promise.reject(res.json())\r\n    }\r\n}\r\n\r\nexport default new Auth()","import React from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport PopupWithStatusRegistration from './PopupWithStatusRegistration'\r\nimport auth from '../utils/auth'\r\n\r\nfunction Registration() {\r\n\r\n    const history = useHistory()\r\n\r\n    const [userData, setUserData] = React.useState({})\r\n    const [statusReg, setStatusReg] = React.useState(false)\r\n    const [openModalResultRegister, setOpenModalResultRegister] = React.useState(false)\r\n\r\n    const handleChange = e => {\r\n        const { name, value } = e.target\r\n        setUserData({ ...userData, [name]: value })\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        auth.register(userData)\r\n            .then(data => {\r\n                setStatusReg(true)\r\n            })\r\n            .catch(err => {\r\n                setStatusReg(false)\r\n            })\r\n            .finally(() => {\r\n                setOpenModalResultRegister(true)\r\n                e.target.reset()\r\n            })\r\n    }\r\n\r\n    const onCloseModalResultRegister = () => {\r\n        setOpenModalResultRegister(false)\r\n        if (statusReg) history.push('./sign-in')\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <form className=\"form form_place_auth\" onSubmit={handleSubmit}>\r\n                <h2 className=\"form__header\">Регистрация</h2>\r\n                <input type=\"email\" className=\"form__input form__input_place_auth\" placeholder=\"Email\" name=\"email\" value={userData.email} onChange={handleChange} required />\r\n                <input type=\"password\" className=\"form__input form__input_place_auth\" placeholder=\"Пароль\" name=\"password\" value={userData.password} onChange={handleChange} required />\r\n                <button type=\"submit\" className=\"form__button form__button_place_auth\">Зарегистрироваться</button>\r\n                <p className=\"form__text\">Уже зарегистрированы? <Link to=\"/sign-in\" className=\"form__link\">Войти</Link></p>\r\n            </form>\r\n            <PopupWithStatusRegistration statusReg={statusReg} isOpen={openModalResultRegister} onClose={onCloseModalResultRegister} />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Registration","import React from 'react'\r\nimport auth from '../utils/auth'\r\n\r\n\r\nfunction LogIn(props) {\r\n    const [userData, setUserData] = React.useState({})\r\n\r\n    const handleChange = e => {\r\n        const { name, value } = e.target\r\n        setUserData({ ...userData, [name]: value })\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n        auth.authorization(userData)\r\n            .then(data => {\r\n                localStorage.setItem('token', data.token) \r\n                props.setLoggedIn(true)\r\n            })\r\n            .catch(() => {\r\n                alert('Ошибка. Попробуйте еще раз')\r\n                setUserData({})\r\n            })\r\n            .finally(() => {\r\n                e.target.reset()\r\n\r\n            })\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <form className=\"form form_place_auth\" onSubmit={handleSubmit}>\r\n                <h2 className=\"form__header\">Вход</h2>\r\n                <input type=\"email\" className=\"form__input form__input_place_auth\" placeholder=\"Email\" name=\"email\"  value={userData.email} onChange={handleChange} required />\r\n                <input type=\"password\" className=\"form__input form__input_place_auth\" placeholder=\"Пароль\" name=\"password\" value={userData.password} onChange={handleChange} required />\r\n                <button type=\"submit\" className=\"form__button form__button_place_auth\">Войти</button>\r\n            </form>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default LogIn","import React from 'react'\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n    return (\r\n        <section\r\n            className={`popup popup_content_photo ${card.name ? \"popup_opened\" : null}`\r\n            }>\r\n            <div className=\"popup__photo-container\">\r\n                <img\r\n                    src={card.link ? card.link : '#'}\r\n                    alt={card.name ? card.name : ''}\r\n                    className=\"popup__photo\"\r\n                />\r\n                <p className=\"popup__caption\">{card.name}</p>\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"popup__close popup__close_content_photo\"\r\n                    onClick={onClose}></button>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ImagePopup","import React from 'react'\r\n\r\nfunction PopupWithForm({ title, name, isOpen, onClose, children, buttonText, onSubmit, isLoadingForm, buttonLoadingText, formRef  }) {\r\n\r\n\r\n    return (\r\n        <section \r\n        className={`popup popup_content_${name} ${isOpen ? \"popup_opened\" : null}`\r\n        }>\r\n            <div className=\"popup__container\">\r\n                <form ref={formRef} className=\"form\" name={name} onSubmit={onSubmit}>\r\n                    <h2 className=\"form__header\">{title}</h2>\r\n                    {children}\r\n                    <button className=\"form__button\" type=\"submit\">{isLoadingForm ? buttonLoadingText : buttonText}</button>\r\n                </form>\r\n                <button\r\n                    type=\"button\"\r\n                    className={`popup__close popup__close_content_${name}`}\r\n                    onClick={onClose}></button>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser, isLoadingForm, formRef}) {\r\n    const [name, setName] = React.useState('')\r\n    const [description, setDescription] = React.useState('')\r\n    const currentUser = React.useContext(CurrentUserContext)\r\n\r\n    function changeNameInput(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function changeDescriptionInput(e) {\r\n        setDescription(e.target.value)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n      \r\n        onUpdateUser({\r\n          name,\r\n          about: description,\r\n        });\r\n      } \r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name  || '');\r\n        setDescription(currentUser.about || '');\r\n      }, [currentUser, isOpen]);   \r\n\r\n    return (\r\n        <PopupWithForm\r\n        name=\"form-author\"\r\n        title=\"Редактировать профиль\"\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        buttonText = \"Сохранить\"\r\n        buttonLoadingText=\"Сохранение...\"\r\n        onSubmit={handleSubmit}\r\n        isLoadingForm={isLoadingForm}\r\n        formRef = {formRef}\r\n      >\r\n        <>\r\n          <input className=\"form__input form__input_content_fullname\" id=\"input-name\" type=\"text\" name=\"author-fullname\"\r\n            placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" value={name} onChange={changeNameInput} required />\r\n          <span className=\"form__input-error input-name-error\"></span>\r\n          <input className=\"form__input form__input_content_job\" id=\"input-job\" type=\"text\" name=\"author-job\"\r\n            placeholder=\"Вид деятельности\" minLength=\"2\" maxLength=\"200\" value={description} onChange={changeDescriptionInput} required />\r\n          <span className=\"form__input-error input-job-error\"></span>\r\n        </>\r\n      </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoadingForm , formRef}) {\r\n    const inputUrlAvatarRef = React.useRef()\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateAvatar(inputUrlAvatarRef.current.value);\r\n\r\n      }\r\n\r\n    function close() {\r\n        inputUrlAvatarRef.current.value = ''\r\n        onClose()\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"change-avatar\"\r\n            title=\"Обновить аватар\"\r\n            isOpen={isOpen}\r\n            onClose={close}\r\n            buttonText=\"Сохранить\"\r\n            buttonLoadingText=\"Сохранение...\"\r\n            onSubmit={handleSubmit}\r\n            isLoadingForm={isLoadingForm}\r\n            formRef = {formRef}\r\n        >\r\n            <>\r\n                <input ref={inputUrlAvatarRef} className=\"form__input form__input_content_link-avatar\" id=\"input-url-avatar\" type=\"url\" name=\"urlAvatar\"\r\n                    placeholder=\"Ссылка на аватар\" required />\r\n                <span className=\"form__input-error input-url-avatar-error\"></span>\r\n            </>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddCard, isLoadingForm, formRef}) {\r\n    const [link, setLink] = React.useState('')\r\n    const [name, setName] = React.useState('')\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddCard({link, name});\r\n    }\r\n\r\n    function changeInputName(e) {\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function changeInputLink(e) {\r\n        setLink(e.target.value)\r\n    }\r\n\r\n    function close() {\r\n        setName('')\r\n        setLink('')\r\n        onClose()\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"add-place\"\r\n            title=\"Новое место\"\r\n            isOpen={isOpen}\r\n            onClose={close}\r\n            buttonText=\"Создать\"\r\n            buttonLoadingText=\"Сохранение...\"\r\n            onSubmit={handleSubmit}\r\n            isLoadingForm={isLoadingForm}\r\n            formRef = {formRef}\r\n        >\r\n            <>\r\n            <input onChange={changeInputName} value={name} className=\"form__input form__input_content_name-place\" id=\"input-name-place\" type=\"text\" name=\"namePlace\"\r\n              placeholder=\"Название\" minLength=\"2\"  maxLength=\"30\" required/>\r\n            <span className=\"form__input-error input-name-place-error\"></span>\r\n            <input onChange={changeInputLink} value={link} className=\"form__input form__input_content_link-image\" id=\"input-url-place\" type=\"url\" name=\"urlPlace\"\r\n              placeholder=\"Ссылка на картинку\" required />\r\n            <span className=\"form__input-error input-url-place-error\"></span>\r\n          </>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup","import React from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction CofirmRemovePlacePopup({ onClose, handleConfirmCardDelete, card, isLoadingForm }) {\r\n\r\n    function handleConfirm(e) {\r\n        e.preventDefault()\r\n        handleConfirmCardDelete(card)\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"confirm-delete\"\r\n            title=\"Вы уверены?\"\r\n            isOpen={card}\r\n            onClose={onClose}\r\n            buttonText=\"Да\"\r\n            buttonLoadingText=\"Удаление...\"\r\n            onSubmit={handleConfirm}\r\n            isLoadingForm={isLoadingForm}\r\n        />\r\n    )\r\n}\r\n\r\nexport default CofirmRemovePlacePopup","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\nfunction ProtectedRoute({ component: Component, ...props }) {\r\n    return (\r\n        <Route>\r\n            {\r\n                () =>\r\n                    props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n            }\r\n        </Route>\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute","import React from 'react'\r\nimport { Switch, Route, Redirect } from 'react-router-dom'\r\nimport api from '../utils/api'\r\nimport Header from './Header'\r\nimport Main from './Main'\r\nimport Registration from './Registration'\r\nimport LogIn from './LogIn'\r\nimport ImagePopup from './ImagePopup'\r\nimport CurrentUserContext from '../contexts/CurrentUserContext'\r\nimport EditProfilePopup from './EditProfilePopup'\r\nimport EditAvatarPopup from './EditAvatarPopup'\r\nimport AddPlacePopup from './AddPlacePopup'\r\nimport CofirmRemovePlacePopup from './CofirmRemovePlacePopup'\r\nimport ProtectedRoute from './ProtectedRoute'\r\nimport auth from '../utils/auth'\r\n\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false)\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false)\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false)\r\n  const [selectedDeleteCard, setSelectedDeleteCard] = React.useState({})\r\n  const [selectedCard, setSelectedCard] = React.useState({})\r\n  const [currentUser, setСurrentUser] = React.useState({})\r\n  const [cards, setCards] = React.useState([])\r\n  const [isLoading, setIsLoading] = React.useState(false)\r\n  const [isLoadingForm, setIsLoadingForm] = React.useState(false)\r\n  const [loggedIn, setloggedIn] = React.useState(false)\r\n  const [userEmail, setUserEmail] = React.useState('')\r\n  const formAddPlaceRef = React.useRef()\r\n  const formEditAvatarRef = React.useRef()\r\n  const formEditProfileRef = React.useRef()\r\n\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n  function handleDeleteCardClick(card) {\r\n    setSelectedDeleteCard(card)\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setSelectedCard({});\r\n    setSelectedDeleteCard({});\r\n    setIsLoadingForm(false)\r\n  }\r\n\r\n  function formReset(formRef) {\r\n    formRef.current.reset()\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    setIsLoadingForm(true)\r\n    api.editUserInfo(data)\r\n      .then(userData => {\r\n        setСurrentUser(userData)\r\n        closeAllPopups()\r\n        formReset(formEditProfileRef)\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  function handleUpdateAvatar(link) {\r\n    setIsLoadingForm(true)\r\n    api.changeAvatar(link)\r\n      .then(() => {\r\n        currentUser.avatar = link\r\n        closeAllPopups()\r\n        formReset(formEditAvatarRef)\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    api.changeLike(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  function handleConfirmDeleteCard(card) {\r\n    setIsLoadingForm(true)\r\n    api.deleteCard(card._id)\r\n      .then(() => {\r\n        setCards(cards.filter(c => !(c._id === card._id)))\r\n        closeAllPopups()\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  function handleAddPlace(card) {\r\n    setIsLoadingForm(true)\r\n    api.addCard(card)\r\n      .then(newCard => {\r\n        setCards([newCard, ...cards])\r\n        closeAllPopups()\r\n        formReset(formAddPlaceRef)\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  function checkAuthorization() {\r\n    if (localStorage.getItem('token')) {\r\n      auth.getToken(localStorage.getItem('token'))\r\n        .then(data => {\r\n          setUserEmail(data.data.email)\r\n          setloggedIn(true)\r\n        })\r\n        .catch(() => {\r\n          localStorage.removeItem('token')\r\n          setloggedIn(false)\r\n        })\r\n    } else {\r\n      setloggedIn(false)\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    api.getUserInfo()\r\n      .then(value => {\r\n        setСurrentUser(value)\r\n      })\r\n      .catch(err => console.log(err))\r\n    api.getInitialCards()\r\n      .then(value => {\r\n        setCards(value)\r\n      })\r\n      .catch(err => console.log(err))\r\n      .finally(() => {\r\n        setIsLoading(false)\r\n      })\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    checkAuthorization()\r\n  }, [loggedIn])\r\n\r\n  return (\r\n    <>\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Header loggedIn={loggedIn} setLoggedIn={setloggedIn} userEmail={userEmail} />\r\n\r\n        <Switch>\r\n          <ProtectedRoute\r\n            loggedIn={loggedIn}\r\n            path=\"/\"\r\n            component={Main}\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            closeAllPopups={closeAllPopups}\r\n            handleCardClick={setSelectedCard}\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleDeleteCardClick}\r\n            isLoading={isLoading}\r\n            exact\r\n          />\r\n          <Route path=\"/sign-in\">\r\n            {loggedIn ? <Redirect to='/' /> : <LogIn setLoggedIn={setloggedIn} />}\r\n          </Route>\r\n          <Route path=\"/sign-up\">\r\n            {loggedIn ? <Redirect to='/' /> : <Registration />}\r\n          </Route>\r\n        </Switch>\r\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} isLoadingForm={isLoadingForm} formRef={formEditProfileRef} />\r\n\r\n        {selectedDeleteCard.name && <CofirmRemovePlacePopup onClose={closeAllPopups} handleConfirmCardDelete={handleConfirmDeleteCard} card={selectedDeleteCard} isLoadingForm={isLoadingForm} />}\r\n\r\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} isLoadingForm={isLoadingForm} formRef={formEditAvatarRef} />\r\n\r\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddCard={handleAddPlace} isLoadingForm={isLoadingForm} formRef={formAddPlaceRef} />\r\n\r\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n\r\n      </CurrentUserContext.Provider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {BrowserRouter} from 'react-router-dom'\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n    <App />\r\n    </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}